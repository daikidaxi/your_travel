<!DOCTYPE html>
<html lang="ja">
  <head>
    <style>
      #maps{ height: 600px; }
    </style>
  </head>
  <body>
  <div id="maps"></div>
  <script src="//maps.googleapis.com/maps/api/js?key=AIzaSyDu4mQIz1tFYraZaD7RbgmQipXbeg_F_Hg&callback=initMap&language=ja&libraries=places" async></script>
  <script>
    function initMap() {
      
      var mapPosition = {lat: 35.6811673, lng: 139.7670516};
      var mapArea = document.getElementById('maps');
      var mapOptions = {
        center: mapPosition,
        zoom: 3,
        mapTypeControl: false,
        fullscreenControl: false,
        streetViewControl: false,
        zoomControl: true,
        styles: [
          {
                "elementType": "labels",
                "stylers": [
                {
                    "visibility": "off"
                }
                ]
            },
            {
                "featureType": "administrative",
                "elementType": "geometry",
                "stylers": [
                {
                    "visibility": "off"
                }
                ]
            },
            {
                "featureType": "administrative.country",
                "stylers": [
                {
                    "visibility": "on"
                }
                ]
            },
            {
                "featureType": "administrative.land_parcel",
                "stylers": [
                {
                    "visibility": "off"
                }
                ]
            },
            {
                "featureType": "administrative.locality",
                "stylers": [
                {
                    "visibility": "on"
                }
                ]
            },
            {
                "featureType": "administrative.neighborhood",
                "stylers": [
                {
                    "visibility": "off"
                }
                ]
            },
            {
                "featureType": "poi",
                "stylers": [
                {
                    "visibility": "off"
                }
                ]
            },
            {
                "featureType": "road",
                "stylers": [
                {
                    "visibility": "off"
                }
                ]
            },
            {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [
                {
                    "visibility": "off"
                }
                ]
            },
            {
                "featureType": "transit",
                "stylers": [
                {
                    "visibility": "off"
                }
                ]
            }
        ],
      };
      //var map = new google.maps.Map(mapArea, mapOptions);

        var target = document.getElementById('gmap');  
        var address = document.getElementById('address').textContent; 
        var geocoder = new google.maps.Geocoder();  
        geocoder.geocode({ address: address }, function(results, status){
            if (status === 'OK' && results[0]){  
            //マップのインスタンスを変数に代入
                var map = new google.maps.Map(target, {  
                center: results[0].geometry.location,
                zoom: 14
                });
            
            //マーカーの生成
                var marker = new google.maps.Marker({
                position: results[0].geometry.location,
                map: map,
                animation: google.maps.Animation.DROP
                });
            
            //情報ウィンドウの生成
                var infoWindow = new google.maps.InfoWindow({
                content: 'Hello!',
                pixelOffset: new google.maps.Size(0, 5)
                });
        
            //マーカーにリスナーを設定
            marker.addListener('click', function(){
                infoWindow.open(map, marker);
                });
            
            }else{ 
            alert('失敗しました。理由: ' + status);
            return;
            }
        });


    //   var markerOptions = {
    //     map: map,
    //     position: mapPosition,
    //     // icon: 'https://maps.google.com/mapfiles/ms/micons/red.png',
    //     // icon: 'https://maps.google.com/mapfiles/ms/micons/red-dot.png',
    //     // https://maps.google.com/mapfiles/ms/micons/red-dot.png
    //     icon: 'https://maps.google.com/mapfiles/ms/micons/blue-dot.png',

    //   };
    //   var marker = new google.maps.Marker(markerOptions);
    }
  </script>
  </body>
</html>